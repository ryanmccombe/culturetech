<ion-view hide-nav-bar="true" >
    <ion-nav-title>{{vm.partner.name}}</ion-nav-title>
    <div class="bar bar-header event-detail-header">
        <button style="margin-left: -44px" ng-click="$ionicGoBack()" class="button back-button buttons button-clear header-item">
            <i class="icon ion-ios-arrow-back"></i>
        </button>
        <div class="title title-left header-item">
            {{vm.event.nameShort || vm.event.name}}
        </div>

    </div>

    <ion-nav-title></ion-nav-title>

    <ion-content>
        <div class="partner-splash" ng-style="{
            'background': 'url(img/events/'+vm.event.img+') no-repeat center center',
            'background-size': 'cover'
            }">
            <div class="event-splash-content">
                <div class="event-tags" ng-show="vm.event.tags">
                    <span class="event-tag" ng-repeat="tag in vm.event.tags">{{tag}}</span>
                </div>
            </div>
        </div>
        <div class="list event-time-list">
            <div class="item border-bottom">
                <div class="time">
                    <div class="location">{{vm.locations[vm.event.clickedSchedule.location].name}}</div>
                    {{vm.event.clickedSchedule.start | date:'EEEE, d MMMM'}}<br>
                    {{vm.event.clickedSchedule.start | date:'H:mm a'}} -
                    {{vm.event.clickedSchedule.end | date:'H:mm a'}}
                </div>
                <a class="button button-icon icon ion-ios-bell flat ink"></a>
                <a ng-show="!vm.locations[vm.event.clickedSchedule.location].abstract"
                   ui-sref="tabs.location({id: vm.event.clickedSchedule.location})"
                   class="button button-icon icon ion-ios-location flat ink"></a>
            </div>
        </div>

        <div class="double-padding partner-description" ng-bind-html="vm.event.desc_full">
        </div>

        <div class="list event-time-list" ng-show="vm.event.rsvp">
            <div class="item-header">
                {{vm.event.rsvp.heading || 'RSVP Required'}}
            </div>
            <div class="row rsvp">
                <div class="col rsvp-instructions" ng-bind-html="vm.event.rsvp.instructions"></div>
                <a class="button button-icon icon rsvp-icon ion-arrow-right-b flat ink"></a>
            </div>


        </div>

        <div class="list event-time-list" ng-show="vm.schedule.length > 1">
            <div class="item-header">
                All Times
            </div>
            <div class="item" ng-repeat="listing in vm.schedule">
                <div class="time">
                    <div class="location">{{vm.locations[listing.location].name}}</div>
                    {{listing.start | date:'EEEE, d MMMM'}}<br>
                    {{listing.start | date:'H:mm a'}} -
                    {{listing.end | date:'H:mm a'}}
                </div>
                <a class="button button-icon icon ion-ios-bell flat ink"></a>
                <a ng-show="listing.location != 1"
                   class="button button-icon icon ion-ios-location flat ink"
                   ui-sref="tabs.location({id: listing.location})"></a>
            </div>
        </div>

        <!--
        <button class="button" ng-click="vm.addNotification()">Add notification</button>
        <button class="button" ng-click="vm.isScheduled()">Is Scheduled?</button>
        <button class="button" ng-click="vm.cancelNotification()">Cancel</button>
        <button class="button" ng-click="vm.cancelAllNotifications()">Cancel All</button>
        <button class="button" ng-click="vm.getAllNotifications()">Get All</button><br>
        -->



        <!-- detail for event: {{vm.event.name}} | clicked listing: {{vm.event.clickedSchedule}}
        <hr>
        {{vm.event}}
        <hr>
        also on {{vm.schedule}}
        -->
    </ion-content>
</ion-view>